(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{231:function(e,t,n){},236:function(e,t,n){"use strict";n(231)},238:function(e,t,n){"use strict";n(240),n(228);var i=n(226),a={name:"LiFaTable",data:function(){return{expendIds:[],scrollAirTh:!1}},props:{columns:{type:Array,required:!0},dataSource:{type:Array,required:!0},selectedItem:{type:Array,default:function(){return[]}},expendField:{type:String},striped:{type:Boolean,default:!1},numberVisible:{type:Boolean,default:!1},bordered:{type:Boolean,default:!1},compact:{type:Boolean,default:!1},orderBy:{type:Object,default:function(){return{}}},loading:{type:Boolean},height:{type:Number},checkable:{type:Boolean,default:!1}},mounted:function(){var e=this.$refs.table,t=e.cloneNode(),n=e.children[0].getBoundingClientRect().height;t.appendChild(e.children[0]),this.$refs.tableContent.style.height&&(this.scrollAirTh=!0),this.$refs.tableContent.style.marginTop=n+"px",this.$refs.wrapper.children[0].style.height=this.height-n+"px",t.classList.add("lifa-table-copy"),this.$refs.wrapper.appendChild(t),this.fixButtonCol()},computed:{areAllItemChecked:function(){var e=this.dataSource.map((function(e){return e.id})).sort(),t=this.selectedItem.map((function(e){return e.id})).sort(),n=!1;if(e.length===t.length)for(var i=0;i<e.length;i++){if(e[i]!==t[i]){n=!1;break}n=!0}return n},expendedCellColSpan:function(){var e=0;return this.checkable&&(e+=1),this.expendField&&(e+=1),e}},components:{LfIcon:i.a},methods:{fixButtonCol:function(){var e=this.$refs.slotWrapper;if(e){var t=e[0].getBoundingClientRect().width,n=e[0].parentNode,i=getComputedStyle(n),a=i.getPropertyValue("padding-left"),s=i.getPropertyValue("padding-right"),r=i.getPropertyValue("padding-top"),d=i.getPropertyValue("padding-bottom"),l=parseInt(t)+parseInt(a)+parseInt(s)+parseInt(r)+parseInt(d)+"px";this.$refs.actionsHeader.style.width=l,e.map((function(e){e.parentNode.style.width=l}))}},expendItem:function(e){this.expendIds.indexOf(e)>=0?this.expendIds.splice(this.expendIds.indexOf(e),1):this.expendIds.push(e)},expendVisible:function(e){return this.expendIds.indexOf(e)>=0},onChangeItem:function(e,t,n){var i=JSON.parse(JSON.stringify(this.selectedItem));n.target.checked?i.push(e):i=i.filter((function(t){return t.id!==e.id})),this.$emit("update:selectedItem",i)},onChangeItemAll:function(e){e.target.checked?this.$emit("update:selectedItem",this.dataSource):this.$emit("update:selectedItem",[])},onChecked:function(e){return this.selectedItem.filter((function(t){return t.id===e.id})).length>0},changeOrderBy:function(e){var t=JSON.parse(JSON.stringify(this.orderBy));"asc"===t[e]?t[e]="desc":"desc"===t[e]?t[e]=!0:t[e]="asc",this.$emit("update:orderBy",t)}},watch:{selectedItem:function(){this.selectedItem.length===this.dataSource.length?(this.$refs.a.indeterminate=!1,this.$refs.a.checked=!0):0===this.selectedItem.length?(this.$refs.a.indeterminate=!1,this.$refs.a.checked=!1):this.$refs.a.indeterminate=!0}}},s=(n(236),n(1)),r=Object(s.a)(a,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"wrapper",staticClass:"lifa-table-wrapper"},[n("div",{ref:"tableContent",class:{bottomBor:e.bordered},style:{height:e.height+"px",overflow:"auto"}},[n("table",{ref:"table",staticClass:"lifa-table",class:{bordered:e.bordered,compact:e.compact,striped:e.striped}},[n("thead",[n("tr",[e.expendField?n("th",{staticClass:"lifa-table-center",style:{width:"50px"}}):e._e(),e._v(" "),e.checkable?n("th",{staticClass:"lifa-table-center",style:{width:"50px"}},[n("input",{ref:"a",attrs:{type:"checkbox"},domProps:{checked:e.areAllItemChecked},on:{change:function(t){return e.onChangeItemAll(t)}}})]):e._e(),e._v(" "),e.numberVisible?n("th",{style:{width:"50px"}},[e._v("#")]):e._e(),e._v(" "),e._l(e.columns,(function(t){return n("th",{key:t.field,style:{width:t.width+"px"}},[n("div",{staticClass:"lifa-table-header"},[e._v("\n            "+e._s(t.text)+"\n            "),e._v(" "),t.field in e.orderBy?n("span",{staticClass:"lifa-table-sorter",on:{click:function(n){return e.changeOrderBy(t.field)}}},[n("lf-icon",{class:{active:"asc"===e.orderBy[t.field]},attrs:{name:"asc"}}),e._v(" "),n("lf-icon",{class:{active:"desc"===e.orderBy[t.field]},attrs:{name:"desc"}})],1):e._e()])])})),e._v(" "),e.$scopedSlots.default?n("th",{ref:"actionsHeader"}):e._e(),e._v(" "),e.scrollAirTh?n("th",{staticStyle:{width:"17px"}}):e._e()],2)]),e._v(" "),n("tbody",[e._l(e.dataSource,(function(t,i){return[n("tr",{key:t.id},[e.expendField?n("td",{staticClass:"lifa-table-center",class:{expend:e.expendVisible(t.id)},style:{width:"50px"},on:{click:function(n){return e.expendItem(t.id)}}},[n("lf-icon",{attrs:{name:"right"}})],1):e._e(),e._v(" "),e.checkable?n("td",{staticClass:"lifa-table-center",style:{width:"50px"}},[n("input",{staticClass:"checkbox",attrs:{type:"checkbox"},domProps:{checked:e.onChecked(t)},on:{change:function(n){return e.onChangeItem(t,i,n)}}})]):e._e(),e._v(" "),e.numberVisible?n("td",{style:{width:"50px"}},[e._v(e._s(i+1))]):e._e(),e._v(" "),e._l(e.columns,(function(i){return[n("td",{key:i.field,style:{width:i.width+"px"}},[e._v(e._s(t[i.field]))])]})),e._v(" "),e.$scopedSlots.default?n("td",[n("div",{ref:"slotWrapper",refInFor:!0,staticStyle:{display:"inline-block"}},[e._t("default",null,{item:t})],2)]):e._e()],2),e._v(" "),e.expendVisible(t.id)?n("tr",[n("td",{key:t.id+"-1",attrs:{colspan:e.columns.length+e.expendedCellColSpan}},[e._v("\n            "+e._s(t[e.expendField]||"空")+"\n          ")])]):e._e()]}))],2)])]),e._v(" "),e.loading?n("div",{staticClass:"lifa-table-loading"},[n("lf-icon",{attrs:{name:"loading"}})],1):e._e()])}),[],!1,null,"0c93394e",null);t.a=r.exports},324:function(e,t,n){},403:function(e,t,n){"use strict";n(324)},453:function(e,t,n){"use strict";n.r(t);n(22);var i=n(238),a=n(226),s=n(225),r={components:{"lf-icon":a.a,"lf-collaspe":s.default,LfTable:i.a},data:function(){return{content:"\n<lf-table :columns=\"columns\" :data-source=\"dataSource\" expend-field=\"description\">\n</lf-table>\n\n<script>\nexport default{\n    data(){\n        return {\n                    columns: [\n                      {text: '姓名', field: 'name', width: 200},\n                      {text: '分数', field: 'score', width: 200},\n                      {text: '年龄', field: 'age'}\n                    ],\n                    dataSource: [\n                      {id: 1, name: '发发', score: 100, age:18, description: '你最帅，将来一定会成为一个了不起的演员'},\n                      {id: 2, name: '琳琳', score: 99, age: 16, description: '为啥不做我媳妇'},\n                      {id: 3, name: '西西', score: 99, age: 20, description: '好累啊'},\n                      {id: 4, name: '泳儿', score: 99, age: 21},\n                      {id: 5, name: '美美', score: 99, age: 22},\n                      {id: 6, name: '阿宇', score: 99, age: 26},\n                    ],\n                    selectedItem: [],\n        }\n    }\n}\n<script>\n ".replace(/^ {10}/gm,"").trim(),columns:[{text:"姓名",field:"name",width:200},{text:"分数",field:"score",width:200},{text:"年龄",field:"age"}],dataSource:[{id:1,name:"发发",score:100,age:18,description:"你最帅，将来一定会成为一个了不起的演员"},{id:2,name:"琳琳",score:99,age:16,description:"为啥不做我媳妇"},{id:3,name:"西西",score:99,age:20,description:"好累啊"},{id:4,name:"泳儿",score:99,age:21},{id:5,name:"美美",score:99,age:22},{id:6,name:"阿宇",score:99,age:26}]}}},d=(n(403),n(1)),l=Object(d.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{"padding-top":"16px"}},[n("h2",[e._v("展开行")]),e._v(" "),n("div",{staticClass:"demo-box"},[n("div",{staticClass:"top"},[n("lf-table",{attrs:{columns:e.columns,"data-source":e.dataSource,"expend-field":"description"}})],1),e._v(" "),n("lf-collaspe",[n("p",{attrs:{slot:"one"},slot:"one"},[e._v("使用"),n("code",[e._v("expend-field")]),e._v("属性来传入你"),n("code",[e._v("data-source")]),e._v("里需要作为展开行的字段的键。")]),e._v(" "),n("code",{attrs:{slot:"two"},slot:"two"},[e._v(e._s(e.content))])])],1)])}),[],!1,null,"3c2487dd",null);t.default=l.exports}}]);